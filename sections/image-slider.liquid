<section class="image-slider"></section>
{% schema %}
{
  "name": "Image Slider",
  "settings": [
    {
      "type": "header",
      "content": "Image Slider"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Slider title"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Image Title"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Image Slider",
      "category": "Image"
    }
  ]
}
{% endschema %}

<div class="bd-example">
  <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      {% for block in section.blocks %}
        <li
          data-target="#carouselExampleCaptions"
          data-slide-to="{{forloop.index0}}"
          {% if forloop.index0 == 0 %}
            class="active"
          {% endif %}
        ></li>
      {% endfor %}
    </ol>
    <div class="carousel-inner">
      {% for block in section.blocks %}
        <div class="carousel-item {%if forloop.first %} active {% endif %}">
          <img
            src="{{block.settings.image | image_url: 'master'}}"
            class="d-block w-100"
            alt="slider one"
            width="500"
            height="300"
          >
          <div class="carousel-caption d-none d-md-block">
            <h5>{{ block.settings.title }}</h5>
          </div>
        </div>
      {% endfor %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>
